var app=angular.module("meanThinkster",["ui.router"]);app.controller("MainCtrl",["$scope","posts",function(t,o){t.test="The Angular part is working!",t.posts=o.posts,t.addPost=function(){t.title&&""!==t.title&&(o.create({title:t.title,link:t.link}),t.title="",t.link="")},t.incrementUpvotes=function(t){o.upvote(t)}}]),app.controller("PostsCtrl",["$scope","posts","post",function(t,o,s){t.post=s,t.addComment=function(){""!==t.body&&(o.addComment(s._id,{body:t.body,author:"user"}).success(function(o){t.post.comments.push(o)}),t.body="")},t.incrementUpvotes=function(t){o.upvoteComment(s,t)}}]),app.factory("posts",["$http",function(t){var o={posts:[{title:"post 1",upvotes:5,comments:[]},{title:"post 2",upvotes:2,comments:[]},{title:"post 3",upvotes:15,comments:[]},{title:"post 4",upvotes:9,comments:[]},{title:"post 5",upvotes:4,comments:[]}]};return o.getAll=function(){return t.get("/posts").success(function(t){angular.copy(t,o.posts)})},o.get=function(o){return t.get("/posts/"+o).then(function(t){return t.data})},o.create=function(s){return t.post("/posts",s).success(function(t){o.posts.push(t)})},o.upvote=function(o){return t.put("/posts/"+o._id+"/upvote").success(function(t){o.upvotes+=1})},o.addComment=function(o,s){return t.post("/posts/"+o+"/comments",s)},o.upvoteComment=function(o,s){return t.put("/posts/"+o._id+"/comments/"+s._id+"/upvote").success(function(t){s.upvotes+=1})},o}]),app.config(["$stateProvider","$urlRouterProvider",function(t,o){t.state("home",{url:"/home",templateUrl:"/home.html",controller:"MainCtrl",resolve:{postPromise:["posts",function(t){return t.getAll()}]}}).state("posts",{url:"/posts/{id}",templateUrl:"/posts.html",controller:"PostsCtrl",resolve:{post:["$stateParams","posts",function(t,o){return o.get(t.id)}]}}),o.otherwise("home")}]);
//# sourceMappingURL=main.min.js.map
